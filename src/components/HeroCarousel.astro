---
import { Image } from 'astro:assets';
import viviHappiImage from '../images/vivi-set-watermarked.png';
import viviHappiImageFront from '../images/vivi-front-watermarked.png';
import viviHappiImageBack from '../images/vivi-back-watermarked.png';
import viviHappiImageBelt from '../images/vivi-belt-watermarked.png';

const images = [
	{
		image: viviHappiImage,
		alt: 'Kikirara Vivi (綺々羅々ヴィヴィ) Happi Design for hololive 7th Fes - Ridin on Dreams',
		index: 0,
	},
	{
		image: viviHappiImageFront,
		alt: 'Kikirara Vivi Happi Front View - Super Expo 2026',
		index: 1,
	},
	{
		image: viviHappiImageBack,
		alt: 'Kikirara Vivi Happi Back View - hololive 7th Fes Merchandise',
		index: 2,
	},
	{
		image: viviHappiImageBelt,
		alt: 'Kikirara Vivi Happi Belt - hololive 7th Fes Merchandise',
		index: 3,
	},
]
---

<div class="max-w-4xl mx-auto">
	<div id="default-carousel" class="relative w-full max-w-[90dvh] mx-auto aspect-square" data-carousel="slide" data-carousel-interval="3000">
		<div class="relative w-full h-full overflow-hidden rounded-lg bg-vivi-pink-50 border-8 border-white drop-shadow-lg" style="filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.06));">
			{images.map(({image, alt}) => (
				<div class="absolute inset-0 duration-700 ease-in-out rounded-lg overflow-hidden" data-carousel-item style="clip-path: inset(2px 0 0 0);">
				<Image
					src={image}
					alt={alt}
					class="w-full h-full object-cover"
					loading="eager"
					style="display: block; border: none; outline: none;"
				/>
			</div>
			))}
		</div>
		<div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
			{images.map(({index}) => (
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white/80" aria-current={index === 0 ? "true" : "false"} aria-label={`Slide ${index + 1}`} data-carousel-slide-to={index}></button>
			))}
		</div>
		<button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
			<span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-2 group-focus:ring-white group-focus:outline-none">
				<svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
				</svg>
				<span class="sr-only">Previous</span>
			</span>
		</button>
		<button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
			<span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-2 group-focus:ring-white group-focus:outline-none">
				<svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
				</svg>
				<span class="sr-only">Next</span>
			</span>
		</button>
	</div>
	<p class="text-center text-vivi-purple-500 mt-4 text-sm">Happi Design Preview</p>
</div>
